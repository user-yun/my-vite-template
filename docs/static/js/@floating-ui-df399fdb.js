function P(t){return t.split("-")[1]}function J(t){return t==="y"?"height":"width"}function $(t){return t.split("-")[0]}function _(t){return["top","bottom"].includes($(t))?"x":"y"}function I(t,n,e){let{reference:o,floating:i}=t;const c=o.x+o.width/2-i.width/2,r=o.y+o.height/2-i.height/2,s=_(n),l=J(s),f=o[l]/2-i[l]/2,d=$(n),a=s==="x";let u;switch(d){case"top":u={x:c,y:o.y-i.height};break;case"bottom":u={x:c,y:o.y+o.height};break;case"right":u={x:o.x+o.width,y:r};break;case"left":u={x:o.x-i.width,y:r};break;default:u={x:o.x,y:o.y}}switch(P(n)){case"start":u[s]-=f*(e&&a?-1:1);break;case"end":u[s]+=f*(e&&a?-1:1);break}return u}const lt=async(t,n,e)=>{const{placement:o="bottom",strategy:i="absolute",middleware:c=[],platform:r}=e,s=c.filter(Boolean),l=await(r.isRTL==null?void 0:r.isRTL(n));let f=await r.getElementRects({reference:t,floating:n,strategy:i}),{x:d,y:a}=I(f,o,l),u=o,h={},g=0;for(let b=0;b<s.length;b++){const{name:O,fn:m}=s[b],{x:p,y:w,data:E,reset:y}=await m({x:d,y:a,initialPlacement:o,placement:u,strategy:i,middlewareData:h,rects:f,platform:r,elements:{reference:t,floating:n}});if(d=p??d,a=w??a,h={...h,[O]:{...h[O],...E}},y&&g<=50){g++,typeof y=="object"&&(y.placement&&(u=y.placement),y.rects&&(f=y.rects===!0?await r.getElementRects({reference:t,floating:n,strategy:i}):y.rects),{x:d,y:a}=I(f,u,l)),b=-1;continue}}return{x:d,y:a,placement:u,strategy:i,middlewareData:h}};function ft(t){return{top:0,right:0,bottom:0,left:0,...t}}function at(t){return typeof t!="number"?ft(t):{top:t,right:t,bottom:t,left:t}}function H(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const ut=Math.min,dt=Math.max;function ht(t,n,e){return dt(t,ut(n,e))}const Ot=t=>({name:"arrow",options:t,async fn(n){const{element:e,padding:o=0}=t||{},{x:i,y:c,placement:r,rects:s,platform:l}=n;if(e==null)return{};const f=at(o),d={x:i,y:c},a=_(r),u=J(a),h=await l.getDimensions(e),g=a==="y"?"top":"left",b=a==="y"?"bottom":"right",O=s.reference[u]+s.reference[a]-d[a]-s.floating[u],m=d[a]-s.reference[a],p=await(l.getOffsetParent==null?void 0:l.getOffsetParent(e));let w=p?a==="y"?p.clientHeight||0:p.clientWidth||0:0;w===0&&(w=s.floating[u]);const E=O/2-m/2,y=f[g],Y=w-h[u]-f[b],T=w/2-h[u]/2+E,M=ht(y,T,Y),ct=P(r)!=null&&T!=M&&s.reference[u]/2-(T<y?f[g]:f[b])-h[u]/2<0?T<y?y-T:Y-T:0;return{[a]:d[a]-ct,data:{[a]:M,centerOffset:T-M}}}});async function gt(t,n){const{placement:e,platform:o,elements:i}=t,c=await(o.isRTL==null?void 0:o.isRTL(i.floating)),r=$(e),s=P(e),l=_(e)==="x",f=["left","top"].includes(r)?-1:1,d=c&&l?-1:1,a=typeof n=="function"?n(t):n;let{mainAxis:u,crossAxis:h,alignmentAxis:g}=typeof a=="number"?{mainAxis:a,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...a};return s&&typeof g=="number"&&(h=s==="end"?g*-1:g),l?{x:h*d,y:u*f}:{x:u*f,y:h*d}}const Et=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(n){const{x:e,y:o}=n,i=await gt(n,t);return{x:e+i.x,y:o+i.y,data:i}}}};function x(t){var n;return((n=t.ownerDocument)==null?void 0:n.defaultView)||window}function C(t){return x(t).getComputedStyle(t)}const z=Math.min,F=Math.max,B=Math.round;function Q(t){const n=C(t);let e=parseFloat(n.width),o=parseFloat(n.height);const i=t.offsetWidth,c=t.offsetHeight,r=B(e)!==i||B(o)!==c;return r&&(e=i,o=c),{width:e,height:o,fallback:r}}function v(t){return tt(t)?(t.nodeName||"").toLowerCase():""}let V;function Z(){if(V)return V;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(V=t.brands.map(n=>n.brand+"/"+n.version).join(" "),V):navigator.userAgent}function A(t){return t instanceof x(t).HTMLElement}function R(t){return t instanceof x(t).Element}function tt(t){return t instanceof x(t).Node}function K(t){if(typeof ShadowRoot>"u")return!1;const n=x(t).ShadowRoot;return t instanceof n||t instanceof ShadowRoot}function S(t){const{overflow:n,overflowX:e,overflowY:o,display:i}=C(t);return/auto|scroll|overlay|hidden|clip/.test(n+o+e)&&!["inline","contents"].includes(i)}function pt(t){return["table","td","th"].includes(v(t))}function j(t){const n=/firefox/i.test(Z()),e=C(t),o=e.backdropFilter||e.WebkitBackdropFilter;return e.transform!=="none"||e.perspective!=="none"||(o?o!=="none":!1)||n&&e.willChange==="filter"||n&&(e.filter?e.filter!=="none":!1)||["transform","perspective"].some(i=>e.willChange.includes(i))||["paint","layout","strict","content"].some(i=>{const c=e.contain;return c!=null?c.includes(i):!1})}function nt(){return!/^((?!chrome|android).)*safari/i.test(Z())}function X(t){return["html","body","#document"].includes(v(t))}function et(t){return R(t)?t:t.contextElement}const ot={x:1,y:1};function D(t){const n=et(t);if(!A(n))return ot;const e=n.getBoundingClientRect(),{width:o,height:i,fallback:c}=Q(n);let r=(c?B(e.width):e.width)/o,s=(c?B(e.height):e.height)/i;return(!r||!Number.isFinite(r))&&(r=1),(!s||!Number.isFinite(s))&&(s=1),{x:r,y:s}}function k(t,n,e,o){var i,c;n===void 0&&(n=!1),e===void 0&&(e=!1);const r=t.getBoundingClientRect(),s=et(t);let l=ot;n&&(o?R(o)&&(l=D(o)):l=D(t));const f=s?x(s):window,d=!nt()&&e;let a=(r.left+(d&&((i=f.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,u=(r.top+(d&&((c=f.visualViewport)==null?void 0:c.offsetTop)||0))/l.y,h=r.width/l.x,g=r.height/l.y;if(s){const b=x(s),O=o&&R(o)?x(o):o;let m=b.frameElement;for(;m&&o&&O!==b;){const p=D(m),w=m.getBoundingClientRect(),E=getComputedStyle(m);w.x+=(m.clientLeft+parseFloat(E.paddingLeft))*p.x,w.y+=(m.clientTop+parseFloat(E.paddingTop))*p.y,a*=p.x,u*=p.y,h*=p.x,g*=p.y,a+=w.x,u+=w.y,m=x(m).frameElement}}return{width:h,height:g,top:u,right:a+h,bottom:u+g,left:a,x:a,y:u}}function L(t){return((tt(t)?t.ownerDocument:t.document)||window.document).documentElement}function W(t){return R(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function mt(t){let{rect:n,offsetParent:e,strategy:o}=t;const i=A(e),c=L(e);if(e===c)return n;let r={scrollLeft:0,scrollTop:0},s={x:1,y:1};const l={x:0,y:0};if((i||!i&&o!=="fixed")&&((v(e)!=="body"||S(c))&&(r=W(e)),A(e))){const f=k(e);s=D(e),l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}return{width:n.width*s.x,height:n.height*s.y,x:n.x*s.x-r.scrollLeft*s.x+l.x,y:n.y*s.y-r.scrollTop*s.y+l.y}}function it(t){return k(L(t)).left+W(t).scrollLeft}function wt(t){const n=L(t),e=W(t),o=t.ownerDocument.body,i=F(n.scrollWidth,n.clientWidth,o.scrollWidth,o.clientWidth),c=F(n.scrollHeight,n.clientHeight,o.scrollHeight,o.clientHeight);let r=-e.scrollLeft+it(t);const s=-e.scrollTop;return C(o).direction==="rtl"&&(r+=F(n.clientWidth,o.clientWidth)-i),{width:i,height:c,x:r,y:s}}function N(t){if(v(t)==="html")return t;const n=t.assignedSlot||t.parentNode||K(t)&&t.host||L(t);return K(n)?n.host:n}function st(t){const n=N(t);return X(n)?n.ownerDocument.body:A(n)&&S(n)?n:st(n)}function rt(t,n){var e;n===void 0&&(n=[]);const o=st(t),i=o===((e=t.ownerDocument)==null?void 0:e.body),c=x(o);return i?n.concat(c,c.visualViewport||[],S(o)?o:[]):n.concat(o,rt(o))}function yt(t,n){const e=x(t),o=L(t),i=e.visualViewport;let c=o.clientWidth,r=o.clientHeight,s=0,l=0;if(i){c=i.width,r=i.height;const f=nt();(f||!f&&n==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:c,height:r,x:s,y:l}}function xt(t,n){const e=k(t,!0,n==="fixed"),o=e.top+t.clientTop,i=e.left+t.clientLeft,c=A(t)?D(t):{x:1,y:1},r=t.clientWidth*c.x,s=t.clientHeight*c.y,l=i*c.x,f=o*c.y;return{width:r,height:s,x:l,y:f}}function U(t,n,e){return n==="viewport"?H(yt(t,e)):R(n)?H(xt(n,e)):H(wt(L(t)))}function bt(t,n){const e=n.get(t);if(e)return e;let o=rt(t).filter(s=>R(s)&&v(s)!=="body"),i=null;const c=C(t).position==="fixed";let r=c?N(t):t;for(;R(r)&&!X(r);){const s=C(r),l=j(r);(c?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position))?o=o.filter(d=>d!==r):i=s,r=N(r)}return n.set(t,o),o}function Ct(t){let{element:n,boundary:e,rootBoundary:o,strategy:i}=t;const r=[...e==="clippingAncestors"?bt(n,this._c):[].concat(e),o],s=r[0],l=r.reduce((f,d)=>{const a=U(n,d,i);return f.top=F(a.top,f.top),f.right=z(a.right,f.right),f.bottom=z(a.bottom,f.bottom),f.left=F(a.left,f.left),f},U(n,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function At(t){return A(t)?Q(t):t.getBoundingClientRect()}function q(t){return!A(t)||C(t).position==="fixed"?null:t.offsetParent}function vt(t){let n=N(t);for(;A(n)&&!X(n);){if(j(n))return n;n=N(n)}return null}function G(t){const n=x(t);let e=q(t);for(;e&&pt(e)&&C(e).position==="static";)e=q(e);return e&&(v(e)==="html"||v(e)==="body"&&C(e).position==="static"&&!j(e))?n:e||vt(t)||n}function Rt(t,n,e){const o=A(n),i=L(n),c=k(t,!0,e==="fixed",n);let r={scrollLeft:0,scrollTop:0};const s={x:0,y:0};if(o||!o&&e!=="fixed")if((v(n)!=="body"||S(i))&&(r=W(n)),A(n)){const l=k(n,!0);s.x=l.x+n.clientLeft,s.y=l.y+n.clientTop}else i&&(s.x=it(i));return{x:c.left+r.scrollLeft-s.x,y:c.top+r.scrollTop-s.y,width:c.width,height:c.height}}const Lt={getClippingRect:Ct,convertOffsetParentRelativeRectToViewportRelativeRect:mt,isElement:R,getDimensions:At,getOffsetParent:G,getDocumentElement:L,getScale:D,async getElementRects(t){let{reference:n,floating:e,strategy:o}=t;const i=this.getOffsetParent||G,c=this.getDimensions;return{reference:Rt(n,await i(e),o),floating:{x:0,y:0,...await c(e)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>C(t).direction==="rtl"},Dt=(t,n,e)=>{const o=new Map,i={platform:Lt,...e},c={...i.platform,_c:o};return lt(t,n,{...i,platform:c})};export{Ot as a,Dt as c,Et as o};
