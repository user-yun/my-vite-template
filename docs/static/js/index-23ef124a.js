import{ref as M,onMounted as _}from"vue";import{T as G,F as V}from"./three-41eb18da.js";const F=Vue.createElementVNode("div",{class:"card"},"Three模板示例",-1),k=Vue.defineComponent({__name:"index",setup(L){const d=M();let h=null,o=null,l=null;const p=()=>{h=new three.WebGLRenderer({canvas:d.value});let e=40,n=2,t=.1,r=1e3;o=new three.PerspectiveCamera(e,n,t,r),o.position.z=24,o.position.x=0,l=new three.Scene,x(),f(),g(),h.render(l,o),requestAnimationFrame(m)},c=()=>{let e=new three.MeshPhongMaterial({side:three.DoubleSide}),n=Math.random(),t=1,r=.5;return e.color.setHSL(n,t,r),e};let i=[];const x=()=>{let e=1,n=1,t=1,r=new three.BoxGeometry(e,n,t);for(let a=0;a<6;a++){let s=new three.Mesh(r,c());s.position.x=a*2,l.add(s),i.push(s)}o.position.x=i.length-1},f=async()=>{let n=await(s=>{let v=new V;return new Promise((w,y)=>{v.load(s,w,void 0,y)})})("https://unpkg.com/three@0.152.2/examples/fonts/helvetiker_regular.typeface.json"),t=new G("three.js",{font:n,size:1,height:.2,curveSegments:12,bevelEnabled:!0,bevelThickness:.15,bevelSize:.3,bevelSegments:5}),r=new three.Mesh(t,c());t.computeBoundingBox(),t.boundingBox.getCenter(r.position).multiplyScalar(-1);let a=new three.Object3D;r.position.x=i.length*2,a.add(r),l.add(a),i.push(a)},g=()=>{let e=16777215,n=1,t=new three.DirectionalLight(e,n);t.position.set(o.position.x,o.position.y,o.position.z),l.add(t)};let b=1e3,u=0;const m=e=>{e-u>=b&&(u=e,i.forEach((n,t)=>{n.rotation.x=e*1+t*.2,n.rotation.y=e*2+t*.3}),h.render(l,o)),requestAnimationFrame(m)};return _(()=>{p()}),(e,n)=>(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[F,Vue.createElementVNode("canvas",{id:"threeCanvas",ref_key:"threeCanvasRef",ref:d},null,512)],64))}});export{k as default};
