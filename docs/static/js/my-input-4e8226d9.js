import{ref as a,useSlots as g,watch as c}from"vue";function s(e){return e.replace(/[^\d]/g,"")}function m(e){return e=e.replace(/[^\d-]/g,""),e=e.replace(/(\-){2,}/g,"-"),e=e.replace("-","$#$").replace(/\-/g,"").replace("$#$","-"),e}function $(e){return e=e.replace(/[^\d.]/g,""),e=e.replace(/^\./g,""),e=e.replace(/\.{2,}/g,"."),e=e.replace(".","$#$").replace(/\./g,"").replace("$#$","."),e}function V(e){return e=e.replace(/[^\d.]/g,""),e=e.replace(/^\./g,""),e=e.replace(/\.{2,}/g,"."),e=e.replace(".","$#$").replace(/\./g,"").replace("$#$","."),e=e.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),e}function h(e){return e=e.replace(/[^\d.-]/g,""),e.length>1&&(e=e.replace(/-$/g,"")),e=e.replace(/^\./g,""),e=e.replace(/(\.){2,}/g,"."),e=e.replace(/(\-){2,}/g,"-"),e=e.replace(".","$#$").replace(/\./g,"").replace("$#$","."),e=e.replace("-","$#$").replace(/\-/g,"").replace("$#$","-"),e=e.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),e}function y(e){return e.replace(/[^/a-zA-Z\u4E00-\u9FA5]/g,"")}function x(e){return e.replace(/[^a-zA-Z0-9]/g,"")}function A(e){return e.replace(/[^\u4E00-\u9FA5]/g,"")}function b(e){return e.replace(/[^a-zA-Z]/g,"")}const r={getDigits:s,getPhone:m,getDecimal:$,getAmount:V,getAmountNeg:h,getZhcnAndEn:y,getEnAndNumber:x,getChinese:A,getLetter:b},E=Vue.defineComponent({__name:"my-input",props:{type:null,modelValue:null,maxlength:null,placeholder:null,clearable:{type:Boolean},disabled:{type:Boolean},prefixIcon:null,suffixIcon:null,readonly:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:i}){const t=e,l=a(),o=g();c(()=>t.modelValue,()=>{t.modelValue?l.value=t.modelValue:l.value=""},{deep:!0,immediate:!0}),c(()=>l.value,()=>{i("update:modelValue",l.value)},{deep:!0,immediate:!0});const d=n=>t.type=="Digits"?r.getDigits(n):t.type=="Phone"?r.getPhone(n):t.type=="Decimal"?r.getDecimal(n):t.type=="Amount"?r.getAmount(n):t.type=="AmountNeg"?r.getAmountNeg(n):t.type=="ZhcnAndEn"?r.getZhcnAndEn(n):t.type=="EnAndNumber"?r.getEnAndNumber(n):t.type=="Chinese"?r.getChinese(n):t.type=="Letter"?r.getLetter(n):n;return(n,p)=>{const f=Vue.resolveComponent("el-input");return Vue.openBlock(),Vue.createBlock(f,{modelValue:Vue.unref(l),"onUpdate:modelValue":p[0]||(p[0]=u=>Vue.isRef(l)?l.value=u:null),maxlength:e.maxlength,placeholder:e.placeholder,clearable:e.clearable,disabled:e.disabled,prefixIcon:e.prefixIcon,suffixIcon:e.suffixIcon,readonly:e.readonly,formatter:d},Vue.createSlots({_:2},[Vue.unref(o).prefix?{name:"prefix",fn:Vue.withCtx(()=>[Vue.renderSlot(n.$slots,"prefix")]),key:"0"}:void 0,Vue.unref(o).suffix?{name:"suffix",fn:Vue.withCtx(()=>[Vue.renderSlot(n.$slots,"suffix")]),key:"1"}:void 0,Vue.unref(o).prepend?{name:"prepend",fn:Vue.withCtx(()=>[Vue.renderSlot(n.$slots,"prepend")]),key:"2"}:void 0,Vue.unref(o).append?{name:"append",fn:Vue.withCtx(()=>[Vue.renderSlot(n.$slots,"append")]),key:"3"}:void 0]),1032,["modelValue","maxlength","placeholder","clearable","disabled","prefixIcon","suffixIcon","readonly"])}}});export{E as default};
